# Программа "Алгоритмы управления виртуальной памятью"
## Назначение программы
Программа "**Алгоритмы управления виртуальной памятью**" по заданной последовательности обращений к страницам процесса выдаёт последовательности ответов трёх алгоритмов замещения (FIFO, LRU и OPT) и сравнивает их между собой по числу ответов второго типа.
## Описание предметной области
Программа, запущенная на выполнение, с точки зрения операционной системы является  _процессом_. Весь исполняемый код и данные при этом образуют адресное пространство этого процесса, то есть процесс может получать доступ к ним по некоторому адресу. Адресное пространство процесса состоит из  _страниц_, являющихся неделимыми с точки зрения системы управления памятью элементами.

Виртуальная память — это механизм расширения оперативной (физической) памяти на внешние носители. Его идея состоит в том, что адресное пространство процесса хранится целиком на внешнем носителе, а в оперативной памяти содержится только часть, необходимая в данный момент.

В рамках этого проекта нас будут интересовать  _алгоритмы замещения_, задача которых — определять, какие из загруженных в оперативную память страниц процесса следует замещать, то есть выгружать обратно на внешний носитель. Алгоритмы замещения позволяют освободить оперативную память, прежде чем загружать с внешнего носителя требуемые процессу страницы.

Будем считать, что размер адресного пространства процесса —  **N**  страниц, а оперативная память состоит из  **M**  кадров (один кадр вмещает одну страницу), причём  **М<N**. Таким образом, страницы процесса нумеруются от 1 до  **N**, а кадры оперативной памяти — от 1 до  **M**.

Работа процесса с точки зрения системы управления памятью состоит из последовательности обращений к страницам его адресного пространства (то есть последовательность чисел из диапазона от 1 до  **N**).

Алгоритм замещения на очередной требуемый процессу номер страницы должен отвечать одним из следующих способов:

-   страница уже загружена в оперативную память, ничего делать не требуется;
-   **K**  — номер кадра, который следует заместить.

При этом алгоритм замещения при каждом обращении к странице может сохранять в своих структурах данных необходимую ему для работы внутреннюю информацию.

Эффективность алгоритма замещения оценивается по числу ответов второго типа за всё время жизни процесса: чем их меньше, тем лучше. На замещение страницы требуется много времени: необходимо сохранить замещаемую страницу на внешний носитель (это делается, если в её содержимом произошли изменения) и загрузить на её место новую.

Известно множество алгоритмов замещения. Можно считать, что все они работают одинаково, пока в оперативной памяти имеются свободные кадры: например, выбирается свободный кадр с наименьшим номером. Отличия начинаются, когда оперативная память полностью загружена. Нас будут интересовать следующие алгоритмы замещения:

-   FIFO (first in — first out): замещается та страница, которая попала в оперативную память раньше всех остальных;
-   LRU (least recently used): замещается страница, к которой дольше всего не было обращений;
-   OPT (optimal): замещается страница, к которой дольше всего не будет обращений (понятно, что этот алгоритм нельзя реализовать на практике, поскольку он требует знания будущего, однако его результаты удобно использовать для анализа эффективности других алгоритмов).

Некоторые алгоритмы замещения учитывают не только обращения к страницам, но и различают операции на чтение и запись, поддерживая тем самым данные о модифицированности содержимого страницы в оперативной памяти относительно её содержимого на внешнем носителе. Замещать немодифицированную страницу выгоднее, поскольку её не требуется сохранять на внешний носитель. К ним, к примеру, относятся алгоритмы NRU (not recently used) и CLOCK (часовой алгоритм) — их описание нетрудно найти в открытых источниках.
## Требования к реализации
-   Язык программирования: Kotlin (СП), Python (МААД).
-   Точка входа в программу:  `src/VirtualMemory.kt`  (СП),  `src/virtual_memory.py`  (МААД).
-   Интерфейс: чтение данных из файлов, передача имён файлов и других параметров через командную строку (консольный ввод не допускается), поддержка однократного запуска и пакетной обработки.
-   Модульное тестирование: необходимы тесты для отдельных функций.
-   Случайная генерация последовательностей обращений к страницам для подготовки тестовых данных для внешнего тестирования.
-   Документация: описание порядка использования программы, форматов входных данных и результатов (файл  `DOC.md`).
-   Примеры для внешнего тестирования: программа должна сопровождаться примерами входных данных (файлы в подкаталоге  `data`).
-   Разработка должна вестись регулярно, история коммитов должна отражать процесс разработки, сообщения коммитов рекомендуется писать на английском языке (но сообщения на русском языке также допускаются).

## Инструкции к использованию
### Формат данных в log
#### Пример:
#1 , 2020-09-27;04:09:00 , r , 12
#7 , 2020-09-27;05:47:00 , r , 5
#5 , 2020-09-27;08:13:00 , w , 9

- #1/7/5 - номер кадра
- 2020-08-27;04:09:00 - время и дата
- r/w - тип операции (чтение/запись)
 - 12/5/9 - номер страницы
### Правила для ввода страницы или списка страниц
-  Для выбора алгоритма, который будет работать с файлом необходимо выбрать из FIFO, LRU и OPT (Пример: --algo=FIFO).
- В списке страницы пишутся через **;**
- В конце списка знак **;** не требуется.
- Название файла без **.txt**
### Функционирование
- Программа работает через **cmd** (командную строку).
- -  Пример: 
- - - C:\src>virtual_memory.py --file=log1 --algo=OPT --page=11;1
- Готовые шаблоны log-ов находятся в папке **data**.
### Тестирование
- За тесты отвечает **virtual_memory_test.py**
